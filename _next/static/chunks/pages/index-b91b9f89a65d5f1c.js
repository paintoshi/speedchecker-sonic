(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(62843)}])},62843:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pages}});var a=n(85893),i=n(37247),r=n.n(i),s=n(67294),o=n(36612),l=n.n(o),d=n(92321),u=n(54124),c=n(49089);let firstFew=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.substring(0,t)},lastFew=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.slice(-t)},abbreviateAddressAsString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;try{return"".concat(firstFew(e,t+1),"...").concat(lastFew(e,t))}catch(e){return null}};function trackEvent(e,t,n,a){c.ZP.event({action:e,category:null!=t?t:"event",label:null!=n?n:"event",value:null!=a?a:0})}var p=n(31536),m=n(3803),y=n(87357),f=n(21519),v=n(82729),h=n(90948),g=n(98456);function _templateObject(){let e=(0,v._)(["\n  svg {\n    color: ",";\n  }\n"]);return _templateObject=function(){return e},e}let x=(0,h.ZP)("div")(e=>{let{theme:t,fontSize:n="16px"}=e;return{fontSize:n,fontWeight:400,textAlign:"center",color:t.palette.secondary.main}}),w=(0,h.ZP)("div")(e=>{let{theme:t,fontSize:n="16px"}=e;return{fontSize:n,fontWeight:400,textAlign:"center",color:t.palette.subtle.main}});(0,h.ZP)("div")(e=>{let{theme:t,fontSize:n="16px"}=e;return{fontSize:n,fontWeight:400,textAlign:"center",color:t.palette.warning.main}});let T=(0,h.ZP)(e=>{let{...t}=e;return(0,a.jsx)(g.Z,{size:"1rem",...t})})(_templateObject(),e=>{let{theme:t}=e;return t.palette.secondary.main});var b=[{inputs:[{internalType:"string",name:"_uri",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"getAllNFTs",outputs:[{internalType:"uint256[8]",name:"counts",type:"uint256[8]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],helpers_usePersistState=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,s.useCallback)(()=>{try{let n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.warn("Error reading localStorage key “".concat(t,"”:"),n),e}},[e,t]),[i,r]=(0,s.useState)(a()),o=(0,s.useCallback)(e=>{try{let a=e instanceof Function?e(i):e;window.localStorage.setItem(t,JSON.stringify(a)),r(a),n&&window.dispatchEvent(new Event("local-storage"))}catch(e){console.warn("Error setting localStorage key “".concat(t,"”:"),e)}},[t,i,n]);(0,s.useEffect)(()=>{window.localStorage.getItem(t)||localStorage.setItem(t,JSON.stringify(e))},[t,e]);let l=(0,s.useCallback)(e=>{(null==e||!e.key||e.key===t)&&n&&r(a())},[t,a,n]);return(0,s.useEffect)(()=>(window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}),[l]),(0,s.useEffect)(()=>(window.addEventListener("local-storage",l),()=>{window.removeEventListener("local-storage",l)}),[l]),[i,o]},S=n(9008),j=n.n(S),k=n(53123),_=n(2272),N=n(10777),C=n(49321),E=n(37003);let getBaseAPIQueryOptions=e=>({staleTime:e?0:1/0,refetchInterval:null!=e?e:0,refetchIntervalInBackground:!1,retry:5,retryOnMount:!0,retryDelay:e=>(1+2**e)*1e3});var hooks_useNFTBalance=e=>{let{address:t,contractAddress:n,abi:a,chainId:i,refresh:r=!0}=e,fetchNFTBalance=async()=>{if(!i||!t||!(0,C.U)(t))return null;try{let e=await (0,E.L)(k.wagmiConfig,{address:n,abi:a,functionName:"getAllNFTs",args:[t]});return(null==e?void 0:e.reduce((e,t)=>e+BigInt(t),0n))||0n}catch(e){return console.error("Error fetching NFT balance:",e),null}},s=(0,N.a)({queryKey:["useNFTBalance",i,t,n,a,r],queryFn:fetchNFTBalance,enabled:!!i&&!!t&&(0,C.U)(t),...getBaseAPIQueryOptions(r?1e5:null)});return s},I=n(85722),hooks_useBlockNumber=e=>{let{refresh:t=!0}=e,fetchData=async()=>{let e=await (0,I.z)(k.wagmiConfig,{cacheTime:0});return e},n=(0,N.a)({queryKey:["useBlockNumber",t],queryFn:fetchData,placeholderData:0n,...getBaseAPIQueryOptions(t?1e3:null)});return n},Components_MintingButton=e=>{let{showAddress:t,isMinting:n,onMint:i,isMintingLoading:r,startTime:o}=e,[d,u]=(0,s.useState)(0);return(0,s.useEffect)(()=>{if(n){let e=setInterval(()=>{u(o>0?(Date.now()-o)/1e3:0)},100);return()=>clearInterval(e)}u(0)},[n,o]),(0,a.jsx)(m.Z,{size:"large",className:l().mainButton,variant:"contained",color:"primary",disabled:!t||n,onClick:i,startIcon:r?(0,a.jsx)(T,{}):null,sx:{textTransform:"unset"},children:r?"Minting (".concat(d.toFixed(1)," sec)"):"Mint NFT"})},Components_SpeedDisplay=e=>{let{txSpeedsState:t,chainConfig:n,scrollToLatest:i}=e,r=(0,s.useRef)(null),o=(0,s.useRef)({});return(0,s.useEffect)(()=>{if(i&&r.current){var e;let n=null===(e=t.reduce((e,t)=>{var n,a;let i=(null===(n=t.speed[t.speed.length-1])||void 0===n?void 0:n.timestamp)||0,r=e&&(null===(a=e.speed[e.speed.length-1])||void 0===a?void 0:a.timestamp)||0;return i>r?t:e},null))||void 0===e?void 0:e.chainId;if(void 0!==n){let e=o.current[n],t=r.current;if(e&&t){let n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),i=e.offsetLeft-t.offsetLeft-a.width/2+n.width/2;t.scrollTo({left:i,behavior:"smooth"})}}}},[t,i]),(0,a.jsx)(y.Z,{width:"100%",display:"flex",justifyContent:"center",flexDirection:"row",mt:"8px",pb:"8px",style:{overflowX:"auto"},ref:r,children:t.map(e=>{var t,i;return(0,a.jsxs)(y.Z,{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"16px",marginLeft:"16px",ref:t=>{o.current[e.chainId]=t},children:[(0,a.jsx)(x,{style:{whiteSpace:"nowrap"},fontSize:"20px",children:null!==(i=null===(t=n[e.chainId])||void 0===t?void 0:t.label)&&void 0!==i?i:"N/A"}),(0,a.jsx)(x,{style:{whiteSpace:"nowrap"},fontSize:"12px",children:e.average>0?"Avg: ".concat(Number((e.average||0)/1e3).toFixed(1)," s"):"Avg: -"}),e.speed.slice().reverse().map(e=>(0,a.jsxs)(w,{children:[Number((e.speed||0)/1e3).toFixed(1)," s"]},e.timestamp))]},e.chain)})})},A=n(16710);let M=[{chain:"Results",chainId:146,speed:[],average:-1}],F={146:{label:"Results",confirmations:1,contractAddress:"0x493F7909E5CA979646Abb86A81a11701420B784F"}};var pages=()=>{var e,t,n,i,o;let[c,v]=(0,s.useState)(void 0),[h,g]=(0,s.useState)(146),[T,S]=(0,s.useState)(0),[N,C]=(0,s.useState)(!1),[E,I]=(0,s.useState)(M),[B,O]=helpers_usePersistState(M,"txSpeedHistoryV3"),[Z,R]=(0,s.useState)(0),[P,D]=(0,s.useState)(0),[L,z]=(0,s.useState)(!1),{address:H,chain:U}=(0,d.m)(),{data:W}=hooks_useBlockNumber({refresh:Z>0}),{open:q}=(0,A.Ig)(),{writeContractAsync:X}=(0,u.S)(),{data:J,refetch:K}=hooks_useNFTBalance({address:H,contractAddress:F[null!==(t=null==U?void 0:U.id)&&void 0!==t?t:146].contractAddress,abi:b,chainId:null!==(n=null==U?void 0:U.id)&&void 0!==n?n:146}),Q=(0,s.useRef)(!1),V=(0,s.useMemo)(()=>{var e,t;return W&&Z&&!(F[null!==(e=null==U?void 0:U.id)&&void 0!==e?e:146].confirmations<=1)?Math.max(0,Math.min(Number(W)-Z,F[null!==(t=null==U?void 0:U.id)&&void 0!==t?t:146].confirmations)):0},[W,Z,null==U?void 0:U.id]),G=(0,s.useMemo)(()=>c&&N,[c,N]),Y=(null===(e=process.env)||void 0===e?void 0:"97235759ff6e7ec7545379f2a2046295")||"",$=(0,s.useCallback)(()=>{D(e=>e+1)},[]),ee=(0,s.useCallback)((e,t)=>{let n=B.map(n=>((null==n?void 0:n.chainId)===e&&(n.speed.push({speed:t,timestamp:Date.now()}),n.average=n.speed.reduce((e,t)=>e+t.speed,0)/n.speed.length),n));O(n),z(!0)},[B,O]),onMint=async()=>{C(!0);try{var e,t,n,a,i;let r;let s=await X({address:F[null!==(e=null==U?void 0:U.id)&&void 0!==e?e:146].contractAddress,abi:b,functionName:"mint",args:[]});console.info("START",Date.now()),console.info("Confirmations to wait for",F[null!==(t=null==U?void 0:U.id)&&void 0!==t?t:146].confirmations),S(Date.now());let o=Date.now();if(R(0),F[null!==(n=null==U?void 0:U.id)&&void 0!==n?n:146].confirmations>1){let e;for(let t=0;t<=120;++t){try{e=await (0,_.e)(k.wagmiConfig,{hash:s,confirmations:1});break}catch(e){console.info("Error on init confirmation",e),console.info("Retrying init confirmation...")}await new Promise(e=>setTimeout(e,1e3))}(null==e?void 0:e.status)==="success"&&R(Number(null!==(a=e.blockNumber)&&void 0!==a?a:0))}for(let e=0;e<=1800;++e){try{r=await (0,_.e)(k.wagmiConfig,{hash:s,onReplaced:e=>console.info("Tx replaced:",e),confirmations:F[null!==(i=null==U?void 0:U.id)&&void 0!==i?i:146].confirmations});break}catch(t){if(console.info("Error",t),console.info("Retrying..."),1800===e)throw t}await new Promise(e=>setTimeout(e,1e3))}if(console.info("Receipt",r),(null==r?void 0:r.status)==="success"){let e=Date.now()-o;console.info("Time taken ".concat(e,"ms")),(null==U?void 0:U.id)&&ee(U.id,e),K(),trackEvent("".concat(null==U?void 0:U.name," tx"),void 0,void 0,e<1e3?100*Math.round(e/100):500*Math.round(e/500))}else console.error("Tx failed",r)}catch(e){console.error(e),trackEvent("Mint Error","Contract")}finally{C(!1),S(0),$(),R(0)}};return(0,s.useEffect)(()=>{console.info("WC","".concat(null==Y?void 0:Y.slice(0,4),"..."))},[Y]),(0,s.useEffect)(()=>{if(Q.current)return;let e=B.filter(e=>(null==e?void 0:e.chainId)===146);0===e.length&&O(M),Q.current=!0},[B,O]),(0,s.useEffect)(()=>{if(L){let e=setTimeout(()=>z(!1),100);return()=>clearTimeout(e)}},[L]),(0,s.useEffect)(()=>{H?v(H):v(void 0)},[H]),(0,s.useEffect)(()=>{B?I(B):I(M)},[B]),(0,s.useEffect)(()=>{(null==U?void 0:U.id)&&(null==U?void 0:U.id)!==146?(C(!1),S(0),$(),R(0)):(null==U?void 0:U.id)===146&&(null==U?void 0:U.id)!==h&&g(146)},[null==U?void 0:U.id,h,$]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(j(),{children:[(0,a.jsx)("title",{children:"Sonic Speed Checker"}),(0,a.jsx)("meta",{name:"description",content:"Track the transaction speed of Sonic Network"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,a.jsx)("meta",{name:"keywords",content:"sonic, $S, evm, fvm, testnet, transactions, speed, tps, finality, confirmations, fast, crypto"}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:title",content:"Sonic Speed Checker - Test Sonic Network Speed"}),(0,a.jsx)("meta",{name:"twitter:image",content:"https://speedchecker.paintswap.io/og_v2.png"}),(0,a.jsx)("meta",{name:"twitter:domain",content:"speedchecker.paintswap.io"}),(0,a.jsx)("meta",{name:"twitter:site",content:"@paintoshi"}),(0,a.jsx)("meta",{name:"twitter:creator",content:"@paintoshi"}),(0,a.jsx)("meta",{name:"twitter:description",content:"Test and track the transaction speed of Sonic Network"}),(0,a.jsx)("meta",{property:"og:title",content:"Sonic Speed Checker - Test Sonic Network Speed"}),(0,a.jsx)("meta",{property:"og:description",content:"Test and track the transaction speed of Sonic Network"}),(0,a.jsx)("meta",{property:"og:image",content:"https://speedchecker.paintswap.io/og_v2.png"}),(0,a.jsx)("meta",{property:"og:url",content:"https://speedchecker.paintswap.io"})]}),(0,a.jsx)("main",{className:"".concat(l().main," ").concat(r().className),children:(0,a.jsx)("div",{className:l().center,children:(0,a.jsxs)("div",{className:l().mainPanel,children:[(0,a.jsx)("h1",{className:l().title,children:"Sonic Speed Checker"}),(0,a.jsxs)("p",{className:l().titleSub,children:["Track transaction speeds on Sonic Network",(0,a.jsx)("br",{})]}),(0,a.jsxs)(p.Z,{width:"100%",direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"center",spacing:2,children:[c&&(0,a.jsx)(m.Z,{size:"large",className:l().mainButton,variant:"contained",color:"primary",onClick:()=>q(),children:abbreviateAddressAsString(null!=H?H:"N/A")}),!c&&(0,a.jsx)(m.Z,{size:"large",className:l().mainButton,variant:"contained",color:"primary",onClick:()=>q(),children:"Connect Wallet"})]}),(0,a.jsx)(y.Z,{width:"100%",mt:"16px",mb:"16px",children:(0,a.jsx)(f.Z,{})}),(0,a.jsx)(y.Z,{mb:"8px",children:(0,a.jsxs)(x,{fontSize:"14px",children:["Owned: ",null!==(i=null==J?void 0:J.toString())&&void 0!==i?i:0," NFTs"]})}),(0,a.jsx)(Components_MintingButton,{showAddress:c,isMinting:N,onMint:onMint,isMintingLoading:G,startTime:T},P),F[null!==(o=null==U?void 0:U.id)&&void 0!==o?o:146].confirmations>1&&(0,a.jsx)(y.Z,{mt:"8px",children:(0,a.jsx)(w,{fontSize:"14px",children:"Confirmations: ".concat(V," / ").concat((null==U?void 0:U.id)?F[null==U?void 0:U.id].confirmations:"N/A")})}),(0,a.jsx)(y.Z,{width:"100%",mt:"16px",mb:"16px",children:(0,a.jsx)(f.Z,{})}),(0,a.jsx)(Components_SpeedDisplay,{txSpeedsState:E,chainConfig:F,scrollToLatest:L}),(0,a.jsx)(y.Z,{alignItems:"center",mt:"8px",children:(0,a.jsx)(m.Z,{variant:"text",size:"small",onClick:()=>O(M),style:{lineHeight:1.2},children:"Clear Speed History"})}),(0,a.jsx)(y.Z,{width:"100%",mt:"16px",mb:"16px",children:(0,a.jsx)(f.Z,{})}),(0,a.jsx)(y.Z,{mb:"0",children:(0,a.jsx)("a",{href:"https://github.com/Paintoshi/speedchecker-sonic",target:"_blank",children:"Github Source"})})]})})})]})}},36612:function(e){e.exports={main:"Home_main__VkIEL",center:"Home_center__O_TIN",title:"Home_title__hYX6j",titleSub:"Home_titleSub__nszZn",sub:"Home_sub__3Mk3_",mainPanel:"Home_mainPanel__6Ksuj",mainButton:"Home_mainButton__nIVdf"}}},function(e){e.O(0,[755,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);